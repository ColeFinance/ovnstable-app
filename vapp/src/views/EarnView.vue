<template>
  <v-container
      class="fill-height"
      fluid
  >
    <v-row
        align="center"
        justify="center"
    >
      <v-col
          lg="12"
          md="7"
          sm="12"
      >
        <v-row class="justify-center align-center pt-15">
          <img :src="require('../assets/swap.png')">
          <div class="swap-title ml-2">Earn</div>
        </v-row>

        <v-row>
          <v-col lg="4" class="pt-10  hidden-md-and-down">
            <StatsWidget/>
          </v-col>
          <v-col lg="4" sm="12" md="12" cols="12">
            <v-row class="desc pr-5 pl-5 pt-10">
              Deposit stablecoins to earn yield overnight with most conservative DeFi liquidity management solution
              <p class="text-left font-weight-bold"> Redeem anytime</p>
            </v-row>
          </v-col>
        </v-row>

        <v-row justify="center">
          <v-col class="tabs pa-1 fixed">
            <button v-bind:class="activeTabMint" @click="tab = 1">Mint</button>
            <button v-bind:class="activeTabRedeem" @click="tab = 2 ">Redeem</button>
          </v-col>
        </v-row>

        <v-row justify="center">
          <v-col class="pa-0 ma-0 fixed">
            <Mint v-if="tab === 1"/>
            <Redeem v-if="tab === 2"/>
          </v-col>
        </v-row>

        <v-row justify="center">
          <v-col lg="4">
          </v-col>
          <v-col lg="4">
            <v-row justify="end" class="mr-1 mt-1">
              <AddTokenBtn :add-token="addUsdPlusToken" text="Add USD+ to your browser wallet"/>
            </v-row>
          </v-col>
          <v-col lg="4">

          </v-col>
        </v-row>
      </v-col>
    </v-row>

    <ShowTransaction/>
  </v-container>
</template>

<script>


import Redeem from "../components/earn/Redeem";
import Mint from "../components/earn/Mint";
import StatsWidget from "../components/common/StatsWidget";
import ShowTransaction from "../components/common/ShowTransaction";
import {mapActions} from "vuex";
import AddTokenBtn from "../components/common/AddTokenBtn";

export default {
  name: "EarnView",
  components: {AddTokenBtn, ShowTransaction, StatsWidget, Mint, Redeem},
  data: () => ({
    tab: 1,

    total: {
      minted: 113332344,
      circulation: 79886800,
      burnt: 33445544,
    },
  }),


  computed: {
    activeTabMint: function () {
      return {
        'tab-button': this.tab === 1,
        'tab-button-in-active': this.tab !== 1,
      }
    },

    activeTabRedeem: function () {
      return {
        'tab-button': this.tab === 2,
        'tab-button-in-active': this.tab !== 2,
      }
    }
  },

  methods: {
    ...mapActions('web3', [ 'addUsdPlusToken'])

  }

}
</script>

<style scoped>
.swap-title {
  color: #788C9F;
  font-weight: bold;
  font-size: 30px;
}

.desc {
  font-size: 15px;
  color: #171717;

}

.tab-button-in-active {
  color: #0A0952;
  cursor: pointer; /* Mouse pointer on hover */
  width: 50%;
  height: 40px;
  font-weight: 600;
  font-size: 18px;
  opacity: 0.8;

}


.tab-button-in-active:hover {
  opacity: 1;
  background-color: #FFFFFF;
  border: 1px solid #ECECEC;
  border-radius: 5px;
}

.tab-button {
  color: #0A0952;
  cursor: pointer; /* Mouse pointer on hover */
  width: 50%;
  height: 40px;
  font-weight: 600;
  font-size: 18px;
  border-radius: 5px;
  background-color: #FFFFFF;
  border: 1px solid #ECECEC;
  opacity: 0.8;
}

.card {
  border-radius: 15px;
  border: 1px solid #BBBBBB;
}

.tabs {
  background-color: #F4F5F9;
  border-radius: 8px;
}

.fixed {
  flex: 0 0 600px;
}


</style>
